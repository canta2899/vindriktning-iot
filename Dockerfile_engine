FROM alpine

RUN apk add --update --no-cache python3
RUN python3 -m ensurepip
RUN pip3 install --no-cache --upgrade pip setuptools
RUN pip3 install --no-cache --upgrade paho-mqtt
RUN pip3 install --no-cache --upgrade influxdb
RUN pip3 install --no-cache --upgrade requests

ADD ./engine/engine.py /
ADD ./engine/run.sh /

CMD ["sh", "/run.sh"]
